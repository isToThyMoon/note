
最初，评价前端页面加载性能有两个指标：DOMContentLoaded和load事件，分别代表 DOM 创建完成和首屏静态资源加载完成。
对于之前的页面和现代的服务端渲染的页面，这两个指标都可以很好地衡量首屏内容展示时间。但对于现代复杂的单页应用，都是通过 JS 操作 DOM 向页面添加主要内容，对于这种场景，DOMContentLoaded 和 load 事件就不能很好地衡量首屏显示时间了。

于是有FP、FCP、FMP被提出来，它们关注的不是"加载"，而是"渲染"，因此能更好地表现用户看到的情况。

了解和测量网站真实的性能其实非常困难，像 load 和 DOMContentLoaded 不会告诉我们用户什么时候可以在屏幕上看到内容。而 FP 和 FCP 又只能捕获整个渲染过程的最开始，FMP 更好一点，但是它的算法比较复杂，而且有时候不准。FP 与 FCP 可以让我们知道，我们的产品何时开始渲染；而 FMP 与 LCP 可以让我们了解我们的产品何时“有用”，站在用户的角度，FMP 与 LCP 可以表示我们的产品需要多久才能体现出价值。

注意，这里说的是“有用”，而不是“能用”；那我们如何才能知道我们的产品什么时候“能用”呢？这就需要另一个性能指标“TTI”。DCL 之后理论上可交互了，但如果此时又执行了 LongTask，页面又卡死了，所以 DCL 并不能代表真实的“可用”状态。

FP、FCP 这两个指标虽然表达了渲染的事件，但对"用户关注的内容"没有体现，比如首屏渲染出来一个背景，或者一个loading，可能对于用户来说和白屏区别不大。

FMP虽然体现了"关键内容"的要素，但它是复杂的、模糊的，甚至是错误的，并不能准确识别页面主要内容的加载时机。

后来LCP指标被提出来，表示"用于度量视口中最大的内容元素何时可见"，它用来代替FMP，表征页面的关键元素何时可以被用户看到。

我们知道，浏览器访问页面时候，浏览器将页面从网络下载到本地后，主要做几个事情：解析HTML，创建DOM，同时加载依赖的资源：CSS、图片等(加载资源的过程不会阻塞DOM解析)，然后调用渲染进程渲染到界面上。
这里需要注意一点，在现在浏览器中，为了减缓渲染被阻塞的情况，现代的浏览器都使用了猜测预加载。当解析被阻塞的时候，浏览器会有一个轻量级的HTML（或CSS）扫描器（scanner）继续在文档中扫描，查找那些将来可能能够用到的资源文件的url，在渲染器使用它们之前将其下载下来。


