

table-layout: fixed 和auto表现非常不一样

# table-layout:auto
在auto模式下，目前已知有四种宽度会影响到表格布局。

列宽度(colWidth)
单元格宽度(cellWidth)
单元格内容宽度(contentWidth)：浏览器会计算每一列下每一个单元格的内容宽度，然后取这一列中的最大值作为当前列的单元格内容宽度。
表格宽度(tableWidth)


1. 表格中每一列都设置定宽

每一列的固定宽度指该列中设置的列宽度和所有单元格宽度的最大值。

如果表格宽度设置的是固定宽度，表格的真实宽度就是表格设置的宽度，表格真实的列宽度会根据每列固定宽度比例去分配表格真实宽度。

如果表格宽度设置的是auto，表格的真实宽度就是所有列的固定宽度的总和，表格真实的列宽度即为该列的固定宽度。

在遵循比例的同时还会受到单元格内容宽度的影响，每一列真实宽度最小值为当前列的所有单元格中最大的单元格内容最小宽度，当某列宽度因为最小值限制无法缩小时，其余的列还是会按比例分配剩余表格宽度。表格真实宽度最小为真实列宽度之和。

2. 表格中每一列都不设置定宽

不固定列宽度为每一列所有单元格中单元格内容宽度的最大值。

然后与第一条情况的规则基本一致，根据表格宽度和单元格最小内容宽度计算表格真实列宽度和表格宽度。

3. 一部分列设置定宽，一部分列不设置定宽：

在定宽列宽度不变前提下，如果所有不定宽列的单元格内容最小宽度之和小于表格宽度剩余空间，不定宽列会按照单元格内容宽度分配剩余的表格宽度。

反之，不定宽列会以该列单元格内容的最小宽度展示，同时定宽列会按照固定列宽度比例缩小，直到缩小到该列单元格内容的最小宽度。


# table-layout:fixed

在fixed模式下，我们就可以不考虑单元格内容宽度对表格布局的影响了，目前已知有三种宽度会影响到表格布局。

列宽度(colWidth)
单元格宽度(cellWidth)：只获取第一行的单元格宽度，其他行忽略。
表格宽度(tableWidth)

如果某一列同时设置了colWidth、cellWidth，优先级是colWidth > cellWidth，这与auto模式是有区别的。


1. 表格中每一列都设置定宽
根据每列的固定宽度比例分配表格的宽度，设置的固定宽度就是这一列的最小宽度，意味着该表格的最小宽度就是所有列设置的固定宽度的总和。

2. 表格中每一列都不设置定宽
所有列会等分表格的宽度，在表格宽度小的时候会发现单元格内容会溢出。

3. 表格中一部分列设置定宽，一部分列不设置定宽
设置固定宽度的列永远都是这个宽度，不定宽的列会等分表格剩余的宽度。当表格宽度小于固定列宽度总和时，不定宽列宽度变为0，单元格内容会游离在表格外。