---
title: 07.闭包的应用
categories:
  - 01.开发学习笔记 markdown
  - 06.JavaScript
  - root
---



1.模拟私有变量

仅在对象内部生效，无法从外部触及，这样的变量，就是私有变量

```js
// 利用闭包生成IIFE，返回 User 类
const User = (function() {
    // 定义私有变量_password
    let _password

    class User {
        constructor (username, password) {
            // 初始化私有变量_password
            _password = password
            this.username = username
        }

       login() {
           // 这里我们增加一行 console，为了验证 login 里仍可以顺利拿到密码
           console.log(this.username, _password)
           // 使用 fetch 进行登录请求，同上，此处省略
       }
    }

    return User
})()

let user = new User('xiuyan', 'xiuyan123')

console.log(user.username)
console.log(user.password)
console.log(user._password)
user.login()
```


