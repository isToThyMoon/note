---
title: 响应式布局
categories:
  - 01.开发学习笔记 markdown
  - 07.前端
  - 05.移动端
---

移动网页
手机网页和电脑网页的技术是一样的
区别仅在屏幕尺寸和交互方式
下面只列出手机页面开发中重要的点

响应式布局 2010年 ethan提出的概念

一个网站兼容多种终端
对不同屏幕尺寸作出响应 并进行布局的一种移动web开发方式。

如何响应不同屏幕尺寸？媒体查询

# 设置 viewport
移动端的问题：屏幕窄，一般来说设备独立像素不超过400px。
比如把网站侧边栏宽度设置为10%，这在PC浏览器看起来没问题(一般视窗大于1000px)，但在手机上就只有40px，太小了什么都放不下。

layout viewport是页面渲染时所参考的宽高
visual viewport 是移动端视窗的设备独立像素宽高
透过视窗口(visual viewport) ，拖动可以看到(layout viewport)的其中部分。

在移动端，页面在渲染时以layout viewport宽度作为计算标准。以iphone为例，如果其 layout viewport 宽度是980px，页面元素渲染时就认为窗口为980px宽。
为解决这一问题，需要设置viewport。

viewport 是 html 的父元素。

对于页面上一个div元素，我们给他设置width: 10%，这个10%是相对于谁？最终是多宽？假设有页面没设置viewport。对于大部分浏览器，会以980px宽度去渲染，然后页面会缩小到正好被屏幕容纳为止。此时页面上元素看起来很小。部分浏览器可能不去做自动缩放，用户需要左右滑动页面才能看到所有内容。

现在添加<meta name="viewport" content="width=device-width">，假设在IphoneX上预览，其device-width就是其设备独立像素，即375px。

在手机上需要用下面的语句设置它的尺寸
`<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">`

属性解释
width=device-width      宽度等于设备宽度（设备独立像素）
height=device-height    高度等于设备高度
initial-scale           初始缩放比例
minimum-scale           允许用户缩放的最小比例
maximum-scale           允许用户缩放的最大比例
user-scalable           是否允许用户缩放

width属性被用来控制layout viewport（布局视窗）的宽度,layout viewport（布局视窗）宽度默认值是设备厂家指定的。iOS, Android基本都将这个视口分辨率设置为 980px。我们可以?width=320 这样设为确切的像素数，也可以设为device-width这一特殊值，一般为了自适应布局，普遍的做法是将width设置为device-width，width=device-width 也就是将layout viewport（布局视窗）的宽度设置为设备屏幕分辨率的宽度。网页缩放比例为100%时，一个CSS像素就对应一个 dip（设备独立像素），layout viewport的宽度＝屏幕分辨率的宽度＝dip 的宽度。

# 媒体查询
媒体查询实际上是用来做响应式设计的
响应式设计就是一套 CSS 根据当前的分辨率选择不同的样式
现在已经没有前几年那么热门了, 不过还是过一遍

媒体查询主要用来:
- 检测媒体的类型, 比如 screen, tv等
- 检测布局视口的特性, 比如视口的宽高分辨率等

用法：

```
<style>
@media all and (min-width: 200px) and (max-width: 300px){
    body {
        background: red;
    }
}
</style>
```

上面代码中, all 是媒体类型, 代表任何设备
and 是逻辑操作
意思是, 对于任何设备, 在宽度在 200-300 的范围内应用这个样式

extra small <576px
small >=576px
medium >=768px
large >=992px
extra large >=1200px


# Hybrid App(混合开发)
混合开发说的是, 你写的网页运行在手机程序里
本来网页能提供的功能是有限的
但是应用程序可以给页面添加函数
在这种情况下, js 就可以调用别人提供的功能
这就是混合开发的基础

比如你 js 不能实现让手机震动的功能
但是别的程序能实现这个功能, 并且把这个功能
注册为你网页中的一个 js 函数
这样 js 也就拥有这个功能了
然后你调用 vfds() 就让手机震动了

这样的效果就是原生代码(相对于 js 而言的
官方开发语言)实现功能并且提供 js 函数
js 代码用别人提供的功能写逻辑

说穿了就这么一回事, 无任何难度的普通掏粪而已
