# 获取设备屏幕宽高

```
import {Dimensions} from 'react-native';
var {height, width} = Dimensions.get('window');
```

# 获取元素
方法一：onLayout 事件属性

x:相对父容器内边缘x距离 
y:相对父容器内边缘y距离 
width:宽 
height:高 

```
<View 
  // 元素第一次渲染后触发，返回元素的宽高和x y坐标
  onLayout={(event:LayoutChangeEvent)=>{
    let {x, y, width, height} = event.nativeEvent.layout;
    console.log('debug layoutchange', x, y, width, height);
  }}
/>
```
当组件重新渲染时，该方法就能重新获取到元素的宽高和位置信息，但是有时组件并没有重新render那么就获取不到正确的值，例如页面滚动，组件没有重新渲染也就不会触发回调。

方法二：元素自带measure方法（注意这是一个异步回调，需要把取值后到操作放在回调里）

x:相对父容器内边缘x距离 
y:相对父容器内边缘y距离 
width:宽 
height:高 
pageX:相对屏幕左上角x轴距离 
pageY:相对屏幕左上角y轴距离

```
...
debugDomRef.current?.measure((x,y,widht,height,pageX,pageY)=>{
    console.log('debugDomRef 计算值', x,y,widht,height,pageX,pageY)
})

...
<View ref={debugDomRef}></View>
```

方法三：使用UIManager measure方法(2023年，0.7版本已标记废弃)

```tsx
import {
    UIManager,
    findNodeHandle
} from 'react-native';

 ...
 
 
UIManager.measure(findNodeHandle(debugDomRef),(x,y,width,height,pageX,pageY)=>{
    //todo
})
 
 ...
 
<MyComponent  ref={debugDomRef} />
 
```