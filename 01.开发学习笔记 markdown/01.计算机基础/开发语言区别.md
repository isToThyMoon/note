---
title: 开发语言区别
categories:
  - 01.开发学习笔记 markdown
  - 02.开发语言和计算机基础
tags:
  - 编程
date:
---

# 编译 解释  JIT：

计算机是不能够识别高级语言的，所以当我们运行一个高级语言程序的时候，就需要一个“翻译机”来从事把高级语言转变成计算机能读懂的机器语言的过程。这个过程分成两类，第一种是编译，第二种是解释。 

编译？ 一个代码编译成另外一种代码，编译到机器码，目标代码就是机器码，执行效率高，缺点是需要先编译后执行，且编译后一套代码无法跨平台，所以需要对应不同平台编译不同代码。
解释？ c语言是跨平台统一的，那我用c语言写出一个虚拟机，是可以部署到任何机器的，执行python代码时，语言逐条被翻译转化成对应的虚拟机指令，执行对应操作。优点是不需要编译，跨平台就编写不同平台虚拟机就行。缺点是运行时需要先翻译由虚拟机执行，执行效率肯定无法对标编译型语言，一般来说相差10几倍甚至几十倍是很正常的（虽然随着硬件性能过剩这种差距在大部分场景基本可以无视）。
JIT？ just in time compiler 把最热的代码编译成机器码

# 动态和静态语言
动态语言可以随意修改变量的变量类型
静态语言在变量初始化时就确定下来变量类型 后续无法修改

动态VS静态
编写时：

动态：
a = ''
a = 1
a = True
静态：
a = ''
a = 'hello'
a = 'test'
a=1 //  x  warning！类型报错

——————————————————————

# 强类型弱类型（两种不同的类型能否加减运算 能 就是弱类型）

有无强制类型转换的区别。
python是动态强类型，
ts和js都是动态弱类型，只不过ts在编译阶段会检查类型

运行时：
1 + '1'
1 + 1

python 是动态强类型语言：
编写时无需定义变量类型
但运行时变量类型强制固定 没有强制类型转化

——————————————————————

# 有GC 无GC 
garbage collection 垃圾回收
无GC：
内存空间使用后，new后要delete // malloc free  如 c, c++
有GC: java golang python ruby scala js 自动回收不再使用的内存空间

GC实现方式
1. 标记清除算法（mark & sweep） 发现内存快满了 扫一遍  清除引用   而java提供了并发清除（concurrent mark sweep）
2. ref counting 引用计数 计数该内存空间被引用使用的的数量 为0时表示当前没有程序使用它，在合适时候回收这片内存

js主要用分代回收加标记清楚，判断对象从window开始是否可抵达，不可抵达就会被回收。

python用
1. 主要ref counting
2. 有时候类似mark & sweep 不完全是

ref counting容易出现的问题就是循环引用：
a b
a.parent = b
b.child = a  循环引用
这样按ref counting的方式就永远不会被GC，一定不要写这样的代码。

weakref：WeakRef 对象允许您保留对另一个对象的弱引用，而不会阻止被弱引用对象被 GC 回收。当对像的引用只剩弱引用时， garbage collection 可以销毁引用并将其内存重用于其他内容。但是，在实际销毁对象之前，即使没有强引用，弱引用也一直能返回该对象。
