---
title: 5.时间动态渲染
categories:
  - 项目实录整理
  - 前端项目
  - 04.实战 react 共享单车项目（lese）
tags:
  - react
date:
---

### index.js:

```javascript 

setInterval(() => {
    // let sysTime = Util.formateDate(new Date().getTime());
    let sysTime = Util.formateDate(new Date());
    this.setState({
	   sysTime
    })
}, 1000)

```


### utils.js:

```javascript

export default {
	formateDate(time) {
		if(!time) {
			return '';
		};
		let date = new Date(time);
		return date.getFullYear()+'-'+(date.getMonth()+1)+'-'+date.getDate()+' '+date.getHours()+':'+date.getMinutes()+':'+date.getSeconds();
	}

}

```

-------
#### 改进：

```javascript

function formateDate(time){
	
	function trans(obj) {
		if(obj < 10) {
			return '0' + obj;
		};
		return obj;
	};

	if(!time) {
		return '';
	};

	// let date = new Date(time);
	let date = time;
	let Years = trans(date.getFullYear());
	let Months = trans(date.getMonth() + 1);
	let Dates = trans(date.getDate());
	let Hours = trans(date.getHours());
	let Minutes = trans(date.getMinutes());
	let Seconds = trans(date.getSeconds());
	
	return Years + '-' + Months + '-' + Dates + ' ' + Hours + ':' + Minutes + ':' + Seconds;
};

export default { formateDate };

```


