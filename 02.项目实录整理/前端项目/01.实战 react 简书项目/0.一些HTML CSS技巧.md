---
title: 0.一些HTML CSS技巧
categories:
  - 项目实录整理
  - 前端项目
  - 03.实战 react 简书项目
tags:
  - react项目
date:
---

在一个Web页面的CSS渲染中，块级格式化上下文 (Block Fromatting Context)是按照块级盒子布局的。

浮动元素和绝对定位元素，非块级盒子的块级容器（例如 inline-blocks, table-cells, 和 table-captions），以及overflow值不为“visiable”的块级盒子，都会为他们的内容创建新的BFC（块级格式上下文）。

BFC是一个独立的布局环境，其中的元素布局是不受外界的影响，并且在一个BFC中，块盒与行盒（行盒由一行中所有的内联元素所组成）都会垂直的沿着其父元素的边框排列。

在类container中添加类似 overflow: scroll，overflow: hidden，display: flex，float: left，或 display: table 的规则来显示创建BFC。虽然添加上述的任意一条都能创建BFC，但会有一些副作用：
1、display: table 可能引发响应性问题
2、overflow: scroll 可能产生多余的滚动条
3、float: left 将把元素移至左侧，并被其他元素环绕
4、overflow: hidden 将裁切溢出元素

设置overflow: hidden的标签 我们只设置它的宽度 不设置高度
让它的子标签去撑起它的高度
BFC包含浮动
浮动元素是会脱离文档流的(绝对定位元素会脱离文档流)。如果一个没有高度或者height是auto的容器的子元素是浮动元素，则该容器的高度是不会被撑开的。我们通常会利用伪元素(:after或者:before)来解决这个问题。BFC能包含浮动，也能解决容器高度不会被撑开的问题。
—————————————————————————————————————————————————————————————————————
	export const TopicWrapper = styled.div`
		overflow: hidden;
		padding: 20px 0 10px 0;
		background: red;
	`;

	export 	const TopicItem = styled.div`
		float: left;
	`;
一个子元素float: left;  为了不让他脱离父元素范围 父元素要overflow: hidden;

—————————————————————————————————————————————————————————————————————
返回顶部功能： 事件监听
	componentDidMount() {
			this.props.changeHomeData();
			this.bindEvents();
		}

	componentWillUnmount() {
		window.removeEventListener('scroll', this.props.changeScrollTopShow)
	}

	bindEvents() {
		window.addEventListener('scroll', this.props.changeScrollTopShow)
	}

	changeScrollTopShow() {
			if (document.documentElement.scrollTop > 500) {
				dispatch(actionCreators.toggleTopShow(true));
			} else {
				dispatch(actionCreators.toggleTopShow(false));
			}
	}
——————————————————————————————————————————————————————————————————————————
css高度问题：
width一般元素默认100% 撑满屏幕宽度
height元素设置100% 默认继承父级元素的100%宽度父级无宽度则失效
	所以如果想撑满屏幕最高高度一定要父级节点到body根目录都设置100% 拉短浏览器宽度时 元素height会缩短至包裹子元素位置 可能产生多余的滚动条
也可以css3设置height: calc(100vh) 不需要追加父节点css
不同的是 设置100%后即使窗口高度缩小 也不会小于子元素的高度 calc(100vh)则一定是即时高度的百分比

height: 100% 和 height: calc(100vh) 都是根据页面即时的高度计算百分比
内里如果有子元素 排版不当容易滚动时出现子元素不被父级元素包裹的问题 出现背景色差异

可以height: calc(100vh) 和 min-height 配合使用 避免调整窗口大小时改变了 calc(100vh) 父级元素包不住子元素

父级元素没有被子元素撑满 是 子元素设置了浮动 脱离文档流
清除浮动 设置父级元素伪类after 中css clear:both  清除浮动的往后继承
或者父级元素 overflow:hidden
