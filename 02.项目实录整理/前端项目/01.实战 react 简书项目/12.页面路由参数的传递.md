---
title: 12.页面路由参数的传递
categories:
  - 项目实录整理
  - 前端项目
  - 03.实战 react 简书项目
tags:
  - react项目
date:
---

多页面间的数据传递：
点击一个list内容 跳转到这个文章的detail 怎么确定点击 每一条文章后跳转到对应的detail？

需要点击时 把list 的id 参数传递给路由 请求api时获取对应id 的数据

把list数据的id 带给详情页

两种方式
1 动态路由  /detail 后面加/       /detail/1

list绑定的link标签转到的路径添加id
	<Link key = {index} to = {'/detail/' + item.get('id')}>

app.js里的router匹配路由
	<BrowserRouter>
		<div>
			<Header />
			<Route path='/' exact component = {Home}></Route>
	 		<Route path='/detail/:id' exact component = {Detail}></Route>
		</div>
	</BrowserRouter>

detail组件里  props路由接收到父组件传递过来的id   this.props.match.params.id
那么在发axios请求时带上id
	componentDidMount() {
			this.props.getDetail(this.props.match.params.id);
		}
dispatch到actionCreator
	const mapDispatch = (dispatch) => ({
	getDetail(id) {
		dispatch(actionCreators.getDetail(id));
	}
	});

actionCreator发送axios对应id请求后到后端的api
	export const getDetail = (id) => {
		return (dispatch) => {
			axios.get('/api/detail.json?id=' + id).then((res) => {
				const result = res.data.data;
				dispatch(changeDetail(result.title, result.content));
			})
		}
	}


2.
	<Link key = {index} to = {'/detail?id=' + item.get('id')}>

	<BrowserRouter>
	<div>
		<Header />
		<Route path='/' exact component = {Home}></Route>
			<Route path='/detail' exact component = {Detail}></Route>
	</div>
	</BrowserRouter>


之后再detail组件内 传来的id保存在哪儿？
在 this.props.location.search   打印出来是 ?id=1
