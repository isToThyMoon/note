---
title: 4.使用combineReducers实现对reducer 数据的拆分管理
categories:
  - 项目实录整理
  - 前端项目
  - 03.实战 react 简书项目
tags:
  - react项目
date:
---

所有的数据处理都在一个reducer里  随着开发 越来越庞大 臃肿
使用combineReducers实现把一个reducer拆分成许多个小的reducer


在header文件夹下是header组件的所有代码
那么 我们选择把与header相关的数据reducer放在header文件夹下
在header文件夹下新建一个store/reducer.js 输入之前的处理逻辑
在总reducer里

	import { combineReducers } from 'redux';
	import headerReducer from '../common/header/store/reducer.js';

	export default combineReducers({
		header: headerReducer
	})


在header的index.js里 原来的mapStateToProps就出错了 因为映射多了一层逻辑 要改成
	
	const mapStateToProps = (state) => {
		return {
			focused: state.header.focused
		}
	};



为了减少源reducer 的引入层级
在分支reudcer同目录下建立一个index.js:

	import reducer from './reducer.js';

	export { reducer }

	在源reducer引入：
	import { combineReducers } from 'redux';
	import {reducer as headerReducer} from '../common/header/store';

	const reducer = combineReducers({
		header: headerReducer
	})

	export default reducer;
