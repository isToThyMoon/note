---
title: 8.原生css实现图标旋转效果
categories:
  - 项目实录整理
  - 前端项目
  - 03.实战 react 简书项目
tags:
  - react项目
date:
---


```javascript
<SearchInfoSwitch
	onClick = {() => handleChangePage(page, totalPage, this.spinIcon)}
>
	<i ref = {(icon) => {this.spinIcon = icon }} className="iconfont spin">&-xe600;</i>
	换一批
</SearchInfoSwitch>

ref获得需要css动画的真实节点 通过点击时触发Click事件的传递给handleChangePage函数处理
	
handleChangePage(page, totalPage, spin) {
			let originAngle = spin.style.transform.replace(/[^0-9]/ig, '');
			if (originAngle) {
				originAngle = parseInt(originAngle, 10);
			} else {
				originAngle = 0;
			}
			console.log(originAngle);
			spin.style.transform = 'rotate(' + (originAngle + 360) + 'deg)';

			// console.log(spin);
			if (page < totalPage){
				dispatch(actionCreators.changePage(page + 1));
			} else {
				dispatch(actionCreators.changePage(1));
			}
		}

}


export const SearchInfoSwitch = styled.div`
	float: right;
	fontsize: 13px;
	.spin {
		display: block;
		float: left;
		font-size: 12px;
		margin-right: 3px;
		transition: all .3s ease-in;
		transform-origin: center center;
	}
`;
```
