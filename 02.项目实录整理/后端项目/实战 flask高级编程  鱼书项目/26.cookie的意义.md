---
title: 13
categories:
  - 项目实录整理
  - 后端项目
  - 实战 flask高级编程  鱼书项目
---

有些视图函数需要登陆后才能访问
有些视图函数的页面不需要登陆 也能直接让用户访问
这里cookie 就有作用了

对视图函数作权限的控制

    
	@web.route('/gifts/book/<isbn>')
	@login_required
	def save_to_gifts(isbn):
	    gift = Gift()
	    gift.isbn = isbn
	    gift.uid= current_user.id
	    db.session.add(gift)
	    db.session.commit()


这里的 current_user就是实例化后的User模型
