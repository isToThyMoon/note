---
title: 13
categories:
  - 项目实录整理
  - 后端项目
  - 实战 flask高级编程  鱼书项目
---

所谓面向对象

1. 描述特征 （类变量 实例变量）
2. 行为 （方法）

只有方法而没有特征  其实不是面向对象 还是面向过程

重构yushubook 和viewmodel

那么重构后 所有的信息都存在类变量里

怎么把一个实例对象给json序列化 我们就可以返回呢？
直接jsonify(books.__dict__)

但尤其是 bookcollection的一个属性值是多个其他对象bookviewmodel的实例构成的list 是不可以的

需要借助函数式编程的思维

序列化对象时 不直接序列化对象 而是把对象传入一个函数 在函数里调用它的__dict__作序列化

	return json.dumps(books, default=lambda obj: obj.__dict__)


函数式编程思维 把代码解释权交给函数调用方
