---
title: 13
categories:
  - 项目实录整理
  - 后端项目
  - 实战 flask高级编程  鱼书项目
---

``` python

from flask import Flask
app = Flask(__name__)

@app.route('/hello')
def hello():
    return 'hello dadada'

app.run(host='0.0.0.0', port=6000, debug=True)

"""
配置文件的问题：
debug模式的性能很低 因为使用的是flask自带的服务器 当我们部署到生产环境服务器时 不可能去把代码修改掉去掉debug 这样太蠢
要保持开发环境和生产环境的代码一致 所以我们通过flask配置文件的形式修改

"""

config.py:
DEBUG = True


app.py:
from flask import Flask
from config import DEBUG
app = Flask(__name__)

@app.route('/hello')
def hello():
    return 'hello dadada'

app.run(host='0.0.0.0', port=6000, debug=DEBUG)


# 如果不想这样
# flask 自带 方法
# app.config.from_object('config')   接收的是模块的路径


app.py:
from flask import Flask
app = Flask(__name__)
app.config.from_object('config')

@app.route('/hello')
def hello():
    return 'hello dadada'

app.run(host='0.0.0.0', port=6000, debug=app.config['DEBUG'])
# config 就是python 字典dict的一个子类
# 如果通过app.config.from_object()方式引入配置文件 key必须全大写




app.py:
from flask import Flask
app = Flask(__name__)
app.config.from_object('config')

@app.route('/hello')
def hello():
    return 'hello dadada'

if __name__ == '__main__':
    app.run(host='0.0.0.0', port=6000, debug=app.config['DEBUG'])

# if __name__的作用？
# 保证if里内容只在本文件作文入口文件时执行 如果本文件作为模块被其他文件导入 if里的内容不执行

"""
为什么这里的app.py 作为主文件入口文件也要加 if __name__?
实际生产环境中 比如使用nginx + uwsgi 作为服务器  uwsgi是引入了app.py模块里 这个app实例来启动web服务的
自然不希望flask内置的服务器 app.run 执行
"""

```

