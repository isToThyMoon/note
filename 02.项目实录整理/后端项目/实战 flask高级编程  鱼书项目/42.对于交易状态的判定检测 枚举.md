---
title: 13
categories:
  - 项目实录整理
  - 后端项目
  - 实战 flask高级编程  鱼书项目
---

``` python

from enum import Enum


class PendingStatus(Enum):
    '''交易四个状态'''
    Waiting = 1
    Success = 2
    Reject = 3
    Redraw = 4



使用：
def can_send_drift(self):
    if self.beans < 1:
        return False
    success_gifts_count = Gift.query.filter_by(
        uid=self.id, launched=True).count()
    success_receive_count = Drift.query.filter_by(
        requester_id = self.id, pending=PendingStatus.Success).count()

    return True if \
        floor(success_receive_count / 2) <= floor(success_gifts_count) \
        else False


```
